<header class="w-full bg-button-green text-white p-1 text-[13px] hidden lg:block">
    <div class="container mx-auto flex items-center justify-between">

        <div class="flex items-center">
            <p>
                <i class="fa-solid fa-mobile-screen"></i> &nbsp;
                <span class="font-extralight">(+94) - 72 257 8559</span>
            </p>
            <p class="mx-2 text-xl font-extralight">|</p>
            <p>
                <i class="fa-solid fa-location-dot"></i> &nbsp;
                <span class="font-extralight">Our location</span>
            </p>
        </div>

        <div class="flex items-center flex-1">
            <div class="text-rotator">
                @for (message of messages; track message; let i = $index) {
                <div class="text-item" [class.active]="i === currentIndex" [class.leaving]="i === leavingIndex"
                    [class.entering]="i !== currentIndex && i !== leavingIndex">
                    <p class="font-medium">{{ message }}</p>
                </div>
                }
            </div>
        </div>

        <div class="flex items-center">
            <div class="pointer-events-none inset-y-0 flex items-center px-2 text-white">
                <i class="fa-solid fa-dollar-sign text-xs"></i>
            </div>

            <!-- Currency Selector -->
            <app-dropdown triggerElement="hover" width="min-w-40" position="center" #currencyDropdown>
                <div class="dropdown-trigger">
                    <div
                        class="cursor-pointer appearance-none pr-8 pl-3 py-1 border border-gray-300 rounded text-white">
                        <p class="truncate">{{ selectedCurrency || 'Select currency' }}</p>
                    </div>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-white">
                        <i class="fa-solid fa-caret-down text-xs duration-200" [class.rotate-180]="currencyDropdown.isOpen()"></i>
                    </div>
                </div>

                <div class="dropdown-content">
                    <app-custom-select [_options]="currencies" [selected]="selectedCurrency"
                        (selectionChange)="onCurrencyChange($event)" (closeRequest)="currencyDropdown.close()">
                    </app-custom-select>
                </div>
            </app-dropdown>

            <p class="mx-2 text-xl font-extralight">|</p>
            <a routerLink="/auth">
                <i class="fa-solid fa-user"></i> &nbsp;
                <span class="font-extralight">Log In / Sign Up</span>
            </a>
        </div>

    </div>
</header>

<nav class="py-6">
    <div class="container mx-auto flex items-center justify-between">

        <div class="flex items-center">
            <img src="logo.png" alt="logo" class="h-10" />
        </div>

        <div class="flex-1 flex items-center mx-5 lg:mx-40">

            <!-- Category Selector -->
            <app-dropdown triggerElement="click" width="min-w-56" position="left" #categoryDropdown>
                <div class="dropdown-trigger w-40">
                    <div class="cursor-pointer appearance-none pr-8 pl-3 py-3 border border-gray-300 hover:border-button-green rounded font-extrabold text-center text-black text-sm"
                        [style.border-top-right-radius]="'0'" [style.border-bottom-right-radius]="'0'">
                        <p class="truncate">{{ selectedCategory || 'Select Category' }}</p>
                    </div>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500">
                        <i class="fa-solid fa-caret-down text-xs duration-200" [class.rotate-180]="categoryDropdown.isOpen()"></i>
                    </div>
                </div>

                <div class="dropdown-content">
                    <app-custom-select [_options]="categories" [selected]="selectedCategory" [needAnSearchBar]="true"
                        (selectionChange)="onCategoryChange($event)" (closeRequest)="categoryDropdown.close()">
                    </app-custom-select>
                </div>
            </app-dropdown>

            <div class="relative flex-1">
                <button type="button" title="search"
                    class="absolute inset-y-0 left-4 flex items-center pr-4 text-gray-500 hover:text-gray-700 focus:outline-none cursor-pointer">
                    <i class="fa-solid fa-magnifying-glass text-lg transition-colors duration-200"></i>
                </button>

                <input type="text" id="search" required placeholder="Search for items..."
                    class="form-control px-5 py-3 pl-12 italic text-sm" />
            </div>
        </div>

        <div class="flex items-center text-3xl text-slate-700 space-x-7">

            <!-- Heart Icon with badge -->
            <div class="relative cursor-pointer">
                <i class="fa-regular fa-heart"></i>
                <span
                    class="absolute -top-2 -right-3 bg-[var(--color-orange-500)] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center shadow">
                    4
                </span>
            </div>

            <!-- Cart Preview -->
            <app-dropdown triggerElement="click" width="min-w-[345px]" position="right">
                <div class="dropdown-trigger">
                    <div class="relative cursor-pointer">
                        <i class="fa-solid fa-bag-shopping"></i>
                        <span
                            class="absolute -top-2 -right-3 bg-button-green text-white text-xs rounded-full w-5 h-5 flex items-center justify-center shadow">
                            2
                        </span>
                    </div>
                </div>

                <div class="dropdown-content">
                    <app-preview></app-preview>
                </div>
            </app-dropdown>

        </div>

    </div>
</nav>